<div class="container">
  <mat-table #table [dataSource]="dataSource" class="mat-elevation-z8" matSort (matSortChange)="sortData($event)">
  
    <!-- Kolom 'name' -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>
        <div class="tb">
          <div  mat-sort-header="name">Name</div>
          <div>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>Name</mat-label>
              <input matInput placeholder="Name" [(ngModel)]="nameSearchTerm" (input)="searchName()">
            </mat-form-field>
           </div>
        </div>
      </th>
      <td mat-cell *matCellDef="let element"> {{ element.civility | titlecase }} {{element.last_name}} {{element.first_name}}</td>
    </ng-container>
  
    <!-- Kolom 'user_type' -->
    <ng-container matColumnDef="user_type">
      <th mat-header-cell *matHeaderCellDef >
        <div>
          <div mat-sort-header="user_type">User Type</div>
          <div>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>User Type</mat-label>
              <input matInput placeholder="User Type" [(ngModel)]="userTypeSearchTerm" (input)="searchUserType()">
            </mat-form-field>
          </div>
        </div>  
      </th>
      <td mat-cell *matCellDef="let element">{{ element.company.user_type }}</td>
    </ng-container>
  
    <!-- Kolom 'email' -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef >
        <div class="tb">
          <div mat-sort-header="email"> Email</div>
          <div>
            <mat-form-field class="example-full-width" appearance="fill">
              <mat-label>Email</mat-label>
              <input matInput placeholder="Email" [(ngModel)]="emailSearchTerm" (input)="searchEmail()">
            </mat-form-field>
          </div>
        </div>
        </th>
      <td mat-cell *matCellDef="let element">{{ element.email }}</td>
    </ng-container>
  
    <!-- Kolom 'status' -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef >
        <div class="tb">
          <div mat-sort-header="status"> Status</div>
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Select Status</mat-label>
              <mat-select #selectedValue (selectionChange)="searchStatus(selectedValue.value)">
                <mat-option value="">All</mat-option>
                <mat-option value="active">Active</mat-option>
                <mat-option value="pending">Pending</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        </th>
      <td mat-cell *matCellDef="let element">
        <mat-icon
          [ngStyle]="{ color: 'green' }"
          *ngIf="element.user_status === 'active'"
        >done</mat-icon>
        <mat-icon
          [ngStyle]="{ color: 'red' }"
          *ngIf="element.user_status === 'pending'"
        >close</mat-icon>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <!-- <tr mat-row ></tr> -->
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </mat-table>
  
  <mat-paginator [pageSizeOptions]="[10, 10, 20]"
  showFirstLastButtons 
  aria-label="Select page of periodic elements">
  </mat-paginator>
  
</div>